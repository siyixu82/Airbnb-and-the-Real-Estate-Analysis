# Airbnb-and-the-Real-Estate-Analysis

# Prediction
![CS216 Script](https://user-images.githubusercontent.com/46532194/64575150-5d686080-d340-11e9-9f42-283632bc9483.jpg)

# Poster
<img width="592" alt="CS216 Poster" src="https://user-images.githubusercontent.com/46532194/64574848-09a94780-d33f-11e9-8126-3c4fff95e250.png">

# Motivation:
The rise of Airbnb since its founding in 2008 has fundamentally transformed the hospitality industry and the way in which people around the world are traveling. Its exponential growth in recent years relies heavily on its innovative digital solution to the traditional practices of home-renting. Curious about how the listing prices are determined, our team set out to develop a price prediction model that would not only shed light on which factors influence listing prices in different geographical locations, but also provide insight into the market potential of a “new” city if Airbnb were to expand into a city in which it had minimal host network. Furthermore, we brought in Zillow’s real estate data to see if there was any correlation between Airbnb listing prices and home values across different cities.

# Methodology & Data Cleaning:
We used Airbnb datasets from four cities: Austin, Boston, Chicago, and Denver; and merged them all into one big dataset. We chose these cities at random, and believe that they give us a good variety of listings to allow for a somewhat robust model opposed to only using a single city. Initially, the datasets from Airbnb had almost 100 columns of data. After careful consideration, we eliminated most of the columns because they were either redundant or irrelevant (such as host name and max nights) and selected the following columns to use in our data exploration: listing id, whether the host is a super host, neighborhood, city, zip code, latitude, longitude, property type, room type, accommodates, bathrooms, bedrooms, beds, bed type, amenities, review score, num reviews, square feet, minimum nights, and price.  Also, we brought in a Zillow dataset, containing over 15,000 zip codes from across the country and their corresponding Zillow Home Value Index (ZHVI), a smoothed, seasonally adjusted measure of the median estimated home value across a given region and housing type. 

We started with some basic exploratory data analysis. For square feet, the dataset had 30,450 missing rows of data out of a total of 30,892 observations. While we believe this could be a very important variable in the future for determining housing prices, the lack of available data today meant we had to drop this column from our dataset. We also decided to drop the minimum night column because from some initial visualizations, we did not see a significant relationship between minimum nights and listing price. From there, we dropped all the rows that had missing (NaN) data. ‘Is superhost’ had 4 missing, ‘zip code’ had 258 missing, ‘bathrooms’ had 31 missings, ‘bedrooms’ had 12 missings and ‘beds’ had 25 missings. We decided to drop these missing observations rather than use a method such as mean imputation because after dropping all these missing rows, we still had 30,573 observations (which we believe is still plenty to build a more accurate model off of). 

We then analyzed the predictor variable of price and found that there were some listings over $10,000 and some listings for $0. These obvious outliers were not very representative of the dataset as a whole, and so we decided to only use listings with a price within $10 and $2000 per night to build our models. Most of the outliers above $2000 come from Austin, specifically advertised for the SXSW music festival, which explains the very high listing prices.  The distribution of price, however, was still skewed after removing our outliers, so we decided to use a log-transform to transform the price data. After removing our outliers, our final dataset contained 30,199 entries.

For property type, there were 39 property types listed in the original Airbnb data, so we decided to categorize them into just 6: Hotel (Hotel, Aparthotel, Boutique hotel, Hostel, Resort), Apartment (Apartment, Serviced apartment, Loft), Condominium, House (Bungalow, Cabin, Chalet, Townhouse, Cottage, Dome house, Earth house, Tiny house, Villa), Guest (Guest suite, GuestHouse), and Other (Barn, Boat, Bus, Camper/RV, Campsite, Casa particular (Cuba), Castle, Cave, Farm stay, Houseboat, Hut, Nature lodge, Others, Tent, Tipi, Treehouse, Yurt, Bed and Breakfast). After this, we used one-hot encoding to convert ‘property type’, ‘is superhost’, ‘room type’,  and ‘bed type’ into a better form for our models .

Our next goal was to clean our ‘review score’ column, as there were more than 5,000 entries with missing data. The explanation of this was found in the ‘num reviews’ column, where we could see that these missing review scores were from listings that had only 0 or 1 reviews, and thus had not gained a review score yet. To deal with the missing data and outlier scores taking into account the influence of the number of reviews, we used the Wilson score confidence interval. We constructed a 95% confidence interval and used the mean of this interval to be our modified review score. We then assigned our entries with no review score to instead have the overall mean of this modified review score column (which turned out to be about 83). Below is the equation that we used to construct our intervals and modify our data:

fter dealing with the modified review scores, we moved on to the amenities columns, which originally was just a string for each row naming every amenities that the listing had. We cleaned these strings and made them into lists for each entry of our dataset and compiled a master set of all the amenities possible. From this, we built a dictionary to find the most common amenities in our data. There were a total of 195 unique amenities, so we chose to work with only the 20 most common ones. We then one-hot encoded the presence of these 20 most common amenities.

Lastly, we decided to use zip code as the key to merge our ZHVI data with our Airbnb dataset. This was the smallest and most precise metric that we could find housing data for using Zillow’s research data. We brought in this Zillow data so that our model could be used on listings that did not solely come from the four cities we trained on. Although categorizing listings based on neighborhood would be even more precise, the Zillow dataset contained a limited list of neighborhoods, rendering neighborhood a less useful metric than zip code to link the Airbnb and Zillow datasets. Since not every zip code in the Airbnb dataset was present in the Zillow dataset, we also had to come up with a method to merge our data. To do this, we made a function that would check if the listing’s zip code was in the Zillow dataset, and if so, would return the mean ZHVI for that zip code. If the zip code was not in the Zillow dataset, it would check if the listing’s city was in the Zillow dataset, and if so, would return the mean ZHVI for that city. If the city was not listed in the Zillow data, it would then check the state, and if the state was found, would return the mean ZHVI for that state. If even the state was not found, it would return the mean ZHVI for the entire Zillow dataset. Once we had the datasets merged, we noticed a very large range of ZHVI values, and so decided to use min-max scaling to scale the data down.

# Result
<img width="502" alt="216 Result" src="https://user-images.githubusercontent.com/46532194/64574852-0c0ba180-d33f-11e9-9679-252fad7e9337.png">

